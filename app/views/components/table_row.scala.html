@*
 * Copyright 2020 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import models.viewmodels.HtmlTableRow
@import play.api.mvc.Call

@(id: String, tableRow: HtmlTableRow)(implicit messages: Messages)

@changeLink(callOpt: Option[Call], label: String) = {
  @callOpt.map { call =>
      <td>
          <a href="@call" id="@id-change">
              <span aria-hidden="true">@messages("site.change")</span>
              <span class="visually-hidden">@label</span>
          </a>
      </td>
  }.getOrElse("")
}

<tr class="section">
    <td class="bold"><span id="@id-label">@tableRow.label</span></td>
    <td>
        @if(tableRow.values.drop(1).isEmpty) {
            <span id="@id">@tableRow.values.headOption.flatten.getOrElse("")<br/></span>
        } else {
            @for((value, idx) <- tableRow.values.zipWithIndex){
                <span id="@id-@idx">@value.getOrElse("")<br/></span>
            }
        }
    </td>
    @changeLink(tableRow.call, tableRow.changeLabel.getOrElse(""))
</tr>

